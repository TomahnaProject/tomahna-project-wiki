{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Project","text":"<p>Website | Github</p>"},{"location":"#project-mission","title":"Project Mission","text":"<p>To faithfully recreate Myst III: Exile and Myst IV: Revelation.</p>"},{"location":"#project-scope","title":"Project Scope","text":"<ul> <li>Myst III: Exile HD (w potential VR mode)</li> <li>Myst IV: Revelation HD (w potential VR mode)</li> <li>Myst III: (full 3d remake in Unreal w VR)</li> <li>Myst IV: (full 3d remake in Unreal w VR)</li> <li>Tomahna For Uru (implementation to have Tomahna as a place visitable in Myst Online)</li> </ul>"},{"location":"#project-tools","title":"Project Tools","text":"<ul> <li>MYSTER Asset Explorer</li> <li>Scripts for photogrammetry / node alignment</li> <li>Blender Python script for importing nodes</li> <li>AI upscaling / AI performance reconstruction</li> </ul>"},{"location":"myst3/","title":"Exile","text":"<p>File Reference</p>"},{"location":"myst3/file-reference/","title":"Exile File Reference","text":""},{"location":"myst3/file-reference/#install-files","title":"Install Files","text":"<ul> <li>.m3a</li> <li>.m3s</li> </ul>"},{"location":"myst4/file-reference/base/","title":"Base types","text":""},{"location":"myst4/file-reference/base/#filemagic-string","title":"<code>FileMagic</code> string","text":"<p>With some exceptions, all asset files have a <code>FileMagic</code> at the start of the file. It can be one of <code>\"ubi/b0-l\"</code> and <code>\"ubi/b0-b\"</code>, which indicate whether the file is little- or big-endian respectively. However, only <code>\"ubi/b0-l\"</code>, the little-endian variant, has ever been observed in the wild.</p>"},{"location":"myst4/file-reference/base/#basicstring-structure","title":"<code>BasicString</code> structure","text":"<p>The basic UTF-16 string used all over the place. Sometimes referred to as <code>ubistring</code>.</p> Name Type Description len <code>uint32</code> Length of the string. s <code>char</code>[<code>len</code>] The string."},{"location":"myst4/file-reference/base/#basicwstring-structure","title":"<code>BasicWString</code> structure","text":"<p>Same as <code>BasicString</code>, except with UTF-16 encoding.</p> Name Type Description len <code>uint32</code> Length of the string. s <code>wchar_t</code>[<code>len</code>] The string."},{"location":"myst4/file-reference/base/#encryptedstring-structure","title":"<code>EncryptedString</code> structure","text":"<p>Same as <code>BasicString</code>, except all <code>char</code>s are \"swizzled\".</p> Name Type Description len <code>uint32</code> Length of the string. s <code>char</code>[<code>len</code>] The string. <p>Swizzle/unswizzle:</p> <pre><code>void EncryptedString::Swizzle() {\n    for (int i = 0; i &lt; this-&gt;len; i++) {\n        byte b = this-&gt;s[i];\n        this-&gt;s[i] = (b &amp; 0xAA) &gt;&gt; 1 | (b &amp; 0x55) &lt;&lt; 1;\n    }\n    return;\n}\n</code></pre>"},{"location":"myst4/file-reference/base/#vector2-structure","title":"<code>Vector2</code> structure","text":"<p>Sometimes referred to as <code>vec2</code>.</p> Name Type x <code>float32</code> y <code>float32</code>"},{"location":"myst4/file-reference/base/#vector3-structure","title":"<code>Vector3</code> structure","text":"<p>Sometimes referred to as <code>vec3</code>.</p> Name Type x <code>float32</code> y <code>float32</code> z <code>float32</code>"},{"location":"myst4/file-reference/base/#vector4-quaternion-structure","title":"<code>Vector4</code> / <code>Quaternion</code> structure","text":"<p>Sometimes referred to as <code>vec4</code> or <code>quat</code> respectively.</p> Name Type x <code>float32</code> y <code>float32</code> z <code>float32</code> w <code>float32</code>"},{"location":"myst4/file-reference/base/#matrix22-structure","title":"<code>Matrix22</code> structure","text":"Name Type x <code>Vector2</code> y <code>Vector2</code>"},{"location":"myst4/file-reference/base/#matrix33-structure","title":"<code>Matrix33</code> structure","text":"Name Type x <code>Vector3</code> y <code>Vector3</code> z <code>Vector3</code>"},{"location":"myst4/file-reference/base/#matrix44-structure","title":"<code>Matrix44</code> structure","text":"Name Type x <code>Vector4</code> y <code>Vector4</code> z <code>Vector4</code> w <code>Vector4</code>"},{"location":"myst4/file-reference/base/#color-structure","title":"<code>Color</code> structure","text":"Name Type Description r <code>float32</code> Red. g <code>float32</code> Green. b <code>float32</code> Blue. a <code>float32</code> Alpha."},{"location":"myst4/file-reference/base/#box-structure","title":"<code>Box</code> structure","text":"Name Type pMin <code>Vector3</code> pMax <code>Vector3</code>"},{"location":"myst4/file-reference/base/#plane-structure","title":"<code>Plane</code> structure","text":"Name Type normal <code>Vector3</code> constant <code>float32</code>"},{"location":"myst4/file-reference/base/#array-structure","title":"<code>Array</code>&lt;<code>Type</code>&gt; structure","text":"Name Type Description len <code>uint32</code> Length of the array. elements <code>Type</code>[<code>len</code>] Elements of the array."},{"location":"myst4/file-reference/base/#pairarray-structure","title":"<code>PairArray</code>&lt;<code>Key</code>, <code>Value</code>&gt; structure","text":"Name Type Description len <code>uint32</code> Length of the array. elements <code>Pair</code>&lt;<code>Key</code>, <code>Value</code>&gt;[<code>len</code>] Elements of the array."},{"location":"myst4/file-reference/base/#pair-structure","title":"<code>Pair</code>&lt;<code>Key</code>, <code>Value</code>&gt; structure","text":"Name Type Description k <code>Key</code> Key. v <code>Value</code> Value."},{"location":"myst4/file-reference/base/#compressedquaternion3u16-structure","title":"<code>CompressedQuaternion3U16</code> structure","text":"Name Type x <code>uint16</code> y <code>uint16</code> z <code>uint16</code> <p>Compression/decompression:</p> <pre><code>void CompressedQuaternion3U16::Compress(Quaternion *src) {\n    if (src-&gt;w &lt; 0.0) {\n        this-&gt;x = (uint16)((1.0 - src-&gt;x) * 32767.0);\n        this-&gt;y = (uint16)((1.0 - src-&gt;y) * 32767.0);\n        this-&gt;z = (uint16)((1.0 - src-&gt;z) * 32767.0);\n    } else {\n        this-&gt;x = (uint16)((1.0 + src-&gt;x) * 32767.0);\n        this-&gt;y = (uint16)((1.0 + src-&gt;y) * 32767.0);\n        this-&gt;z = (uint16)((1.0 + src-&gt;z) * 32767.0);\n    }\n    return;\n}\n\nvoid CompressedQuaternion3U16::Decompress(Quaternion *dst) {\n    float w;\n\n    dst-&gt;x = (float32)this-&gt;x*(1.0/32767.0) - 1.0;\n    dst-&gt;y = (float32)this-&gt;y*(1.0/32767.0) - 1.0;\n    dst-&gt;z = (float32)this-&gt;z*(1.0/32767.0) - 1.0;\n    w = ((1.0 - dst-&gt;x*dst-&gt;x) - dst-&gt;y*dst-&gt;y) - dst-&gt;z*dst-&gt;z;\n    if (w &gt; 0.0) {\n        dst-&gt;w = sqrt(w);\n    } else {\n        dst-&gt;w = 0.0;\n    }\n    return;\n}\n</code></pre>"},{"location":"myst4/file-reference/base/#compressedquaternionu32-type","title":"<code>CompressedQuaternionU32</code> type","text":"<ul> <li>Type: <code>uint32</code></li> <li>Bits: <code>xxaaaaaa aaaabbbb bbbbbbcc cccccccc</code><ul> <li><code>xx</code>: greatest quat element (0 = <code>x</code>, 1 = <code>y</code>, 2 = <code>z</code>, 3 = <code>w</code>).</li> <li><code>aaaaaaaaaa</code>/<code>bbbbbbbbbb</code>/<code>cccccccccc</code>: other three elements.</li> </ul> </li> </ul> <p>Compression/decompression:</p> <pre><code>const float32 oneOverRootTwo  = sqrt(2.0) /     2.0;\nconst float32 scaleRange10Bit = sqrt(2.0) / pow(2.0, 10);\n\nstatic uint32 CompressedQuaternionU32::CompressElement(float32 elem) {\n    return min((uint32)((elem + oneOverRootTwo) * (1.0/scaleRange10Bit) + 0.000025), 0x3FF);\n}\n\nvoid CompressedQuaternionU32::Compress(Quaternion *src) {\n    uint32 a, b, c, x;\n    float32 ax, ay, az, aw;\n    Quaternion q;\n\n    q = *src;\n    q.Normalize();\n\n    ax = abs(q.x);\n    ay = abs(q.y);\n    az = abs(q.z);\n    aw = abs(q.w);\n\n    if (ax &gt; ay &amp;&amp; ax &gt; az &amp;&amp; ax &gt; aw) {\n        // x is greatest element.\n        if (q.x &lt; 0.0) q.Negate();\n        a = CompressElement(q.y);\n        b = CompressElement(q.z);\n        c = CompressElement(q.w);\n        x = 0;\n    } else if (ay &gt; az &amp;&amp; ay &gt; aw) {\n        // y is greatest element.\n        if (q.y &lt; 0.0) q.Negate();\n        a = CompressElement(q.x);\n        b = CompressElement(q.z);\n        c = CompressElement(q.w);\n        x = 1;\n    } else if (az &gt; aw) {\n        // z is greatest element.\n        if (q.z &lt; 0.0) q.Negate();\n        a = CompressElement(q.x);\n        b = CompressElement(q.y);\n        c = CompressElement(q.w);\n        x = 2;\n    } else {\n        // w is greatest element.\n        if (q.w &lt; 0.0) q.Negate();\n        a = CompressElement(q.x);\n        b = CompressElement(q.y);\n        c = CompressElement(q.z);\n        x = 3;\n    }\n\n    this-&gt;v = (x &lt;&lt; 30) | (a &lt;&lt; 20) | (b &lt;&lt; 10) | c;\n    return;\n}\n\nvoid CompressedQuaternionU32::Decompress(Quaternion *dst) {\n    float32 a, b, c, s;\n\n    a = (float32)(this-&gt;v &gt;&gt; 20 &amp; 0x3FF) * scaleRange10Bit - oneOverRootTwo;\n    b = (float32)(this-&gt;v &gt;&gt; 10 &amp; 0x3FF) * scaleRange10Bit - oneOverRootTwo;\n    c = (float32)(this-&gt;v &gt;&gt;  0 &amp; 0x3FF) * scaleRange10Bit - oneOverRootTwo;\n    s = sqrt(((1.0 - a*a) - b*b) - c*c);\n\n    switch this-&gt;v &gt;&gt; 30 {\n    case 0:\n        dst-&gt;x = s;\n        dst-&gt;y = a;\n        dst-&gt;z = b;\n        dst-&gt;w = c;\n        break;\n    case 1:\n        dst-&gt;x = a;\n        dst-&gt;y = s;\n        dst-&gt;z = b;\n        dst-&gt;w = c;\n        break;\n    case 2:\n        dst-&gt;x = a;\n        dst-&gt;y = b;\n        dst-&gt;z = s;\n        dst-&gt;w = c;\n        break;\n    case 3:\n        dst-&gt;x = a;\n        dst-&gt;y = b;\n        dst-&gt;z = c;\n        dst-&gt;w = s;\n        break;\n    }\n    return;\n}\n</code></pre>"},{"location":"myst4/file-reference/bigfile/","title":"BigFile","text":"<p>BigFile is the container format employed by Ubisoft for Revelation. All of Revelation's data is contained in BigFiles.</p> <p>coderjo wrote some Python scripts for manipulating BigFiles.</p> <p>BigFiles are little-endian, and have the .m4b file extension.</p>"},{"location":"myst4/file-reference/bigfile/#bigfile-structure","title":"<code>BigFile</code> structure","text":"Name Type Description magic <code>BasicString</code> Magic signature. Must be <code>\"UBI_BF_SIG\\0\"</code>. version <code>uint32</code> Must be <code>0x1</code>. No other version is known. root <code>FatDirectory</code> <code>root.name</code> must be empty. fileTable ... Table of files described in <code>root</code>."},{"location":"myst4/file-reference/bigfile/#fatdirectory-structure","title":"<code>FatDirectory</code> structure","text":"<p>Describes a single directory contained in a BigFile.</p> Name Type Description name <code>BasicString</code> In source material, all non-empty directory names have a redundant null-terminator. nSubDirs <code>uint8</code> subDirs <code>FatDirectory</code>[<code>nSubDirs</code>] files <code>Array</code>&lt;<code>FatFile</code>&gt;"},{"location":"myst4/file-reference/bigfile/#fatfile-structure","title":"<code>FatFile</code> structure","text":"<p>Describes a single file contained in a BigFile.</p> Name Type Description name <code>BasicString</code> In source material, all non-empty file names have a redundant null-terminator. size <code>uint32</code> pos <code>uint32</code> File's absolute start position in its containing BigFile."},{"location":"myst4/file-reference/zap/","title":"ZAP","text":"<p>A container of multiple image files. These are used for transparency layers in static textures. One major example is nodecube textures, where transparency lets the skybox through.</p> <p>It is unknown what \"ZAP\" is supposed to stand for, if anything.</p> <p>ZAP files are little-endian, and have the .zap file extension.</p>"},{"location":"myst4/file-reference/zap/#zap-file-structure","title":"<code>ZAP</code> file structure","text":"Name Type Description hdrSize <code>uint32</code> Header size. Never observed to be anything other than <code>0x20</code>. nImages <code>uint32</code> Number of images. Never observed to be anything other than <code>0x2</code>. Then again, Revelation is hardcoded to assume all ZAP files contain exactly two images. formats <code>uint32</code>[<code>nImages</code>] Formats of the respective images, as known by the LEADTOOLS SDK, though only three are supported (<code>FILE_JPEG</code> (<code>0xA</code>), <code>FILE_TIF_JPEG</code> (<code>0xB</code>) and <code>FILE_PNG</code> (<code>0x4B</code>)). sizes <code>uint32</code>[<code>nImages</code>] Sizes of the respective image's data. w <code>uint32</code> Shared width. h <code>uint32</code> Shared height. data <code>uint8</code>[<code>sizes</code>[<code>i</code>]][<code>nImages</code>] Data of the respective image."},{"location":"myst4/file-reference/audio/sequences/","title":"Music Sequencing","text":"<p>The music in Myst4 is similar to Myst3 in that it uses sequencing to compose many separate sound files dynamically into music so that the game can offer more variety when listening to the same piece for a long period of time compared to a fixed piece of music looped endlessly.</p> <p>Each music track / cue is defined in a sequence file (.seq) located within the sequence folder located within the main sound.m4b archive. The game shipped with 48 files of these files (assuming no variation between versions).</p>"},{"location":"myst4/file-reference/audio/sequences/#sequence-files","title":"Sequence Files","text":"<p> This page is a WIP: Do not use it as gospel reference!</p> <p>Useful Hex Editor designed for Reverse Engineering</p> <p>Useful Hex Conversion Tool</p> <p>Endian order: unknown - likely little endian</p>"},{"location":"myst4/file-reference/audio/sequences/#file-header","title":"FILE HEADER","text":"Type Count Description char 0x8 Header string \"ubi/b0-l\" uint32 0x1 unknown - family count?"},{"location":"myst4/file-reference/audio/sequences/#sequence-structure","title":"SEQUENCE Structure","text":"Type Count Description uint32 0x1 Sequence prefix string length (spl) char spl Sequence prefix string uint32 0x1 Sequence name length (snl) char snl Sequence name bool 0x1 unknown int32 0x1 unknown int32 0x1 UbiDataType prefix string length (dpl1) float dpl1 UbiDataType prefix string - one int32 0x1 UbiDataType prefix string length (dpl2) int32 dpl2 UbiDataType prefix string - two int32 0x1 UbiDataType prefix string length (dpl3) float dpl3 UbiDataType prefix string - three"},{"location":"myst4/file-reference/audio/sequences/#family-structure","title":"FAMILY Structure","text":"Type Count Description int32 0x1 unknown char ?? Family name int32 0x1 unknown <p>List of sound names, each preceded by 4 bytes</p> Type Count Description int32 0x1 unknown char Sequence name char Sequence name"},{"location":"myst4/file-reference/audio/sequences/#sound-structure","title":"SOUND Structure","text":"Type Count Description uint 0x1 Sound name length (snl) char snl Sound name short 0x1 Start range short 0x1 End range bool 0x1 Flag int32 0x1 unknown float 0x1 unknown float 0x1 unknown float 0x1 unknown float 0x1 unknown int32 0x1 unknown float 0x1 Vector X float 0x1 Vector Y float 0x1 Vector Z"},{"location":"myst4/file-reference/audio/soundfiles/","title":"Ubi's Sound Files","text":"<p>This is a post I saved some time ago from a forum that seems to have met it's demise (who says the internet is forever...) The thread was discussing the sound files in Myst 4.</p> <p>Posted by Simon</p> <p>Myst IV sound hacking Nov 10, 2004</p> <p>I just downloaded the Myst IV Revelation demo (it\u2019s free there) and it\u2019s very cool. It brings back memories of Myst and maybe (I can hope) it will be as good as Riven was. Anyway, I guess I\u2019m going to buy it as soon as I\u2019m done writing this, but first, some obligatory info on hacking the sound files out of the demo.</p> <p>We\u2019re talking about the OS X version here, presumably the PC version is analogous. Go into the .app package and look for sound/data. Ignore the .snd files, they are metadata. Inside \u201cdata\u201d you will see files with three different extensions. Here\u2019s my guide to what they are.</p> <p>LS0 - inside the \u201cEnglish\u201d folder - these are easy, they are straight OGG vorbis, just rename them with the .ogg extension and play in your favorite player.</p> <p>SS0 - music and some backgrounds. Three of these are straight OGG vorbis files, rename as above. Some of them are ADPCM - see below.</p> <p>SB0 - many of these are 44100 Hz, 2 channel (stereo), 4-Bit 4:1 IMA DVI ADPCM files (a common format in WAV/wave files). You can listen to them using SoundHack a free program for OS X and there\u2019s probably similar soft for PCs. Open as unknown format. Set the format to the above. Save Info. Save as. The resulting file should be listenable.</p> <p>NB: Many of these files contain multiple sounds.</p> <p>NB2: Some of them won\u2019t work using this technique, I don\u2019t know why.</p> <p>Have fun.</p> <p>Update: Revelator will extract just the ogg files automatically.</p> <p>PS: Why all the work? They\u2019re probably just trying to make it difficult to extract the audio by stripping the normal headers from these files. They could have left the WAV headers in place and made it a lot easier.</p> <p>The ADPCM files seem to be missing the WAV file headers, and the format itself isn't that straight forward to play (with say VLC).</p> <p>Using something like vgmstream doesn't seem to work with the files as extracted from the game. Wav headers probably need to be programmatically added back onto the files to get them playing properly.</p>"},{"location":"myst4/file-reference/thor/","title":"<code>thor</code> resource","text":"<p><code>thor</code> is the namespace that houses Revelation's engine implementation. It has its own dedicated resource serialisation scheme.</p>"},{"location":"myst4/file-reference/thor/#thor-resource-file-structure","title":"<code>thor</code> resource file structure","text":"Name Type Description magic <code>FileMagic</code> Magic signature. resource <code>ThorResource</code> Resource."},{"location":"myst4/file-reference/thor/#thorresource-structure","title":"<code>ThorResource</code> structure","text":"Name Type Description type <code>ThorResourceType</code> data ... Data according to <code>type</code>."},{"location":"myst4/file-reference/thor/#thorresourcetype-enum","title":"<code>ThorResourceType</code> enum","text":"<ul> <li>Type: <code>uint32</code></li> </ul> <p>A <code>ThorResourceType</code> identifies the type of <code>thor</code> resource that follows immediately after it.</p> <p>This enum value table might not be complete!</p> Name Value Omits header <code>AiResource</code> <code>0x01</code> <code>AtlasNodeResource</code> <code>0x02</code> <code>BlenderResource</code> <code>0x03</code> <code>CommandBlock</code> <code>0x06</code> <code>ContainerResource</code> <code>0x07</code> <code>Context</code> <code>0x08</code> * <code>CursorResource</code> <code>0x09</code> <code>FlareResource</code> <code>0x0A</code> <code>FontResource</code> <code>0x0B</code> <code>GeometryResource</code> <code>0x0C</code> <code>HotspotResource</code> <code>0x0D</code> <code>Interpolator</code> <code>0x0E</code> <code>TextureBox</code> <code>0x0F</code> <code>LayerExtractResource</code> <code>0x10</code> <code>LightResource</code> <code>0x11</code> <code>LightmapModAddResource</code> <code>0x13</code> <code>LightsetResource</code> <code>0x14</code> <code>MaterialResource</code> <code>0x15</code> <code>MoreActor</code> <code>0x16</code> <code>MoreClip</code> <code>0x17</code> <code>MoreModel</code> <code>0x18</code> <code>MoreMultiActor</code> <code>0x19</code> <code>GraphicOverlay</code> <code>0x1A</code> <code>PanelResource</code> <code>0x1B</code> <code>AnimPanelResource</code> <code>0x1C</code> <code>ParticleSystemBase</code> <code>0x1D</code> <code>PixelEffectResource</code> <code>0x1E</code> <code>RailResource</code> <code>0x1F</code> <code>SkyReflectionResource</code> <code>0x21</code> <code>SoundLoader</code> <code>0x23</code> <code>Subtitle</code> <code>0x24</code> <code>TextResource</code> <code>0x25</code> <code>Text</code> <code>0x26</code> * <code>TextureResource</code> <code>0x27</code> <code>VariableResource</code> <code>0x28</code> <code>Video</code> <code>0x29</code> <code>WaterResource</code> <code>0x2A</code> <code>InteractiveOffsetProvider</code> <code>0x2B</code> <code>TextureAlignedOffsetProvider</code> <code>0x2C</code> <code>StateData</code> <code>0x2D</code> <code>WidgetResource</code> <code>0x2E</code> <code>Widget2D</code> <code>0x2F</code> <code>Button</code> <code>0x30</code> <code>Canvas</code> <code>0x31</code> <code>ComboBox</code> <code>0x32</code> <code>Label</code> <code>0x33</code> <code>ListBox</code> <code>0x34</code> <code>ListBoxItem</code> <code>0x35</code> <code>PanelWidget</code> <code>0x36</code> <code>PanelButton</code> <code>0x37</code> <code>Popup</code> <code>0x38</code> <code>Credits</code> <code>0x39</code> <code>TextWidget</code> <code>0x3A</code> <code>ToolTips</code> <code>0x3B</code> <code>ZipWidget</code> <code>0x3C</code> <code>Slider</code> <code>0x3D</code> <code>ZPlanesResource</code> <code>0x3E</code> <code>MultiGeometry</code> <code>0x40</code> <code>QualityDatabaseResource</code> <code>0x41</code> <code>ShadowMaterialResource</code> <code>0x42</code>"},{"location":"myst4/file-reference/thor/#thorresourceheader-structure","title":"<code>ThorResourceHeader</code> structure","text":"<p>A <code>ThorResourceHeader</code> contains the base info for a <code>thor</code> resource.</p> Name Type Description version <code>uint32</code> Indicates which revision of a particular resource type this resource was compiled as. Though there are resource types with multiple versions, Revelation's code appears to ignore this field, always assuming the latest version; some resource headers do not list the latest version. Unlike <code>ubi</code> resource file versions, this version field pertains to just the associated individual resource. name <code>EncryptedString</code> For non-embedded resources, this must be the filename without extension."},{"location":"myst4/file-reference/thor/commandblock/","title":"<code>CommandBlock</code>","text":"<ul> <li><code>ThorResourceType</code>: <code>0x6</code></li> <li>Max. version: <code>0x1</code></li> </ul> <p>A <code>CommandBlock</code> contains commands to be executed upon some AI event.</p>"},{"location":"myst4/file-reference/thor/commandblock/#commandblock-structure","title":"<code>CommandBlock</code> structure","text":"Name Type header <code>ThorResourceHeader</code> commands <code>Array</code>&lt;<code>EncryptedString</code>&gt;"},{"location":"myst4/file-reference/thor/containerresource/","title":"<code>ContainerResource</code>","text":"<ul> <li><code>ThorResourceType</code>: <code>0x7</code></li> <li>Max. version: <code>0x1</code></li> </ul> <p>A <code>ContainerResource</code> groups multiple resources together.</p>"},{"location":"myst4/file-reference/thor/containerresource/#containerresource-structure","title":"<code>ContainerResource</code> structure","text":"Name Type header <code>ThorResourceHeader</code> children <code>Array</code>&lt;<code>ThorResource</code>&gt;"},{"location":"myst4/file-reference/thor/geometryresource/","title":"<code>GeometryResource</code>","text":"<ul> <li><code>ThorResourceType</code>: <code>0xC</code></li> <li>Max. version: <code>0x2</code></li> </ul>"},{"location":"myst4/file-reference/thor/geometryresource/#geometryresource-structure","title":"<code>GeometryResource</code> structure","text":"Name Type header <code>ThorResourceHeader</code> ??? <code>EncryptedString</code> ??? <code>EncryptedString</code> isVisible <code>bool</code> ??? <code>uint32</code> collisionEventsEnabled <code>bool</code> ??? <code>uint32</code> layerIndex <code>uint32</code> ??? <code>bool</code> ??? <code>EncryptedString</code>"},{"location":"myst4/file-reference/thor/particlesystembase/","title":"<code>ParticleSystemBase</code>","text":"<ul> <li><code>ThorResourceType</code>: <code>0x1D</code></li> <li>Max. version: <code>0x2</code></li> </ul>"},{"location":"myst4/file-reference/thor/particlesystembase/#particlesystembase-structure","title":"<code>ParticleSystemBase</code> structure","text":"Name Type Condition Description header <code>ThorResourceHeader</code> type <code>uint32</code> Must be 1 or 2, or Revelation will crash. partsys <code>PSGenericSprite</code> <code>type == 1</code> partsys <code>PSGenericGeometry</code> <code>type == 2</code> forces <code>Array</code>&lt;<code>Force</code>&gt; states <code>Array</code>&lt;<code>SteadyState</code>&gt;"},{"location":"myst4/file-reference/thor/particlesystembase/#psgenericsprite-structure","title":"<code>PSGenericSprite</code> structure","text":"Name Type base <code>PSGenericBase</code> defaultSpriteWidth <code>float32</code> defaultSpriteHeight <code>float32</code> scaleParams <code>ScaleParams</code> isRotating <code>bool</code> rotation <code>VariableData</code>&lt;<code>float32</code>&gt; isPendulumRotating <code>bool</code> pendulumRotationRange <code>VariableData</code>&lt;<code>float32</code>&gt; pendulumRotationCycleTime <code>VariableData</code>&lt;<code>float32</code>&gt; isTextureTiled <code>bool</code> usedTextureTiles <code>Array</code>&lt;<code>uint8</code>&gt; textureName <code>EncryptedString</code> ??? <code>uint32</code> ??? <code>uint32</code> cylindricalBillboarding <code>bool</code>"},{"location":"myst4/file-reference/thor/particlesystembase/#psgenericgeometry-structure","title":"<code>PSGenericGeometry</code> structure","text":"Name Type base <code>PSGenericBase</code> scale3DParams <code>Scale3DParams</code> ??? <code>bool</code>"},{"location":"myst4/file-reference/thor/particlesystembase/#psgenericbase-structure","title":"<code>PSGenericBase</code> structure","text":"Name Type maxPartCount <code>uint32</code> emitterParams <code>EmitterParams</code> generationRate <code>float32</code> hasLifeTime <code>bool</code> ??? <code>VariableData</code>&lt;<code>float32</code>&gt;<code>[3]</code> opacityParams <code>OpacityParams</code> isColorHSV <code>bool</code> colorParams <code>ColorParams</code> bounceParams <code>BounceParams</code> deathPlaneParams <code>DeathPlaneParams</code> orbitalParams <code>OrbitalParams</code> gravity <code>Vector3</code>"},{"location":"myst4/file-reference/thor/particlesystembase/#emitterparams-structure","title":"<code>EmitterParams</code> structure","text":"Name Type shapeType <code>ShapeType</code> positionParams <code>float32[3]</code> velocityType <code>VelocityType</code> speed <code>VariableData</code>&lt;<code>float32</code>&gt; velocityAngles <code>float32[2]</code> globalMatrixOffset <code>Vector3</code> globalMatrixRotation <code>Vector3</code>"},{"location":"myst4/file-reference/thor/particlesystembase/#shapetype-enum","title":"<code>ShapeType</code> enum","text":"Name Value <code>Point</code> <code>0x0</code> <code>Rectangle</code> <code>0x1</code> <code>Circle</code> <code>0x2</code> <code>CircleEdge</code> <code>0x3</code> <code>Cylinder</code> <code>0x4</code> <code>CylinderEdge</code> <code>0x5</code> <code>Sphere</code> <code>0x6</code> <code>HalfSphere</code> <code>0x7</code> <code>Box</code> <code>0x8</code>"},{"location":"myst4/file-reference/thor/particlesystembase/#velocitytype-enum","title":"<code>VelocityType</code> enum","text":"Name Value ??? <code>0x0</code> ??? <code>0x1</code> ??? <code>0x2</code>"},{"location":"myst4/file-reference/thor/particlesystembase/#opacityparams-structure","title":"<code>OpacityParams</code> structure","text":"<p>Also called <code>LifeStageParameters&lt;0&gt;</code>.</p> Name Type ??? <code>bool</code> ??? <code>bool</code> ??? <code>VariableData</code>&lt;<code>float32</code>&gt;<code>[3]</code>"},{"location":"myst4/file-reference/thor/particlesystembase/#colorparams-structure","title":"<code>ColorParams</code> structure","text":"<p>Also called <code>LifeStageParameters&lt;1&gt;</code>.</p> Name Type ??? <code>bool</code> ??? <code>bool</code> ??? <code>VariableData</code>&lt;<code>Vector3</code>&gt;<code>[3]</code>"},{"location":"myst4/file-reference/thor/particlesystembase/#bounceparams-structure","title":"<code>BounceParams</code> structure","text":"Name Type ??? <code>bool</code> plane <code>Plane</code> speedLossFactor <code>float32</code>"},{"location":"myst4/file-reference/thor/particlesystembase/#deathplaneparams-structure","title":"<code>DeathPlaneParams</code> structure","text":"Name Type ??? <code>bool</code> killParticles <code>bool</code> planes <code>Array</code>&lt;<code>Plane</code>&gt;"},{"location":"myst4/file-reference/thor/particlesystembase/#orbitalparams-structure","title":"<code>OrbitalParams</code> structure","text":"Name Type ??? <code>bool</code> speed <code>VariableData</code>&lt;<code>float32</code>&gt; radius <code>VariableData</code>&lt;<code>float32</code>&gt; orient <code>bool</code> newGoalInterval <code>float32</code> newGoalAxisAdjust <code>float32</code> changeOrbitalForces <code>bool</code> changeOfOrbitalTime <code>VariableData</code>&lt;<code>float32</code>&gt; nOrbitalForces <code>uint32</code>"},{"location":"myst4/file-reference/thor/particlesystembase/#scaleparams-struct","title":"<code>ScaleParams</code> struct","text":"<p>Also called <code>LifeStageParameters&lt;2&gt;</code>.</p> Name Type ??? <code>bool</code> keepScaleRatio <code>bool</code> ??? <code>bool</code> ??? <code>VariableData</code>&lt;<code>Vector2</code>&gt;<code>[3]</code>"},{"location":"myst4/file-reference/thor/particlesystembase/#scale3dparams-structure","title":"<code>Scale3DParams</code> structure","text":"<p>Also called <code>LifeStageParameters&lt;3&gt;</code>.</p> Name Type ??? <code>bool</code> keepScaleRatio <code>bool</code> ??? <code>bool</code> ??? <code>VariableData</code>&lt;<code>Vector3</code>&gt;<code>[3]</code>"},{"location":"myst4/file-reference/thor/particlesystembase/#variabledata-structure","title":"<code>VariableData</code>&lt;<code>Type</code>&gt; structure","text":"<p>A <code>VariableData</code> describes the bounds within which a variable is to be randomised.</p> Name Type min <code>Type</code> max <code>Type</code>"},{"location":"myst4/file-reference/thor/particlesystembase/#force-structure","title":"<code>Force</code> structure","text":"Name Type Conditoin Description type <code>uint32</code> Must be 1, 2, 3, or 4, or Revelation will crash. data <code>FWind</code> <code>type == 1</code> data <code>FOrbital</code> <code>type == 2</code> data <code>FFriction</code> <code>type == 3</code> data <code>FRayRepulsor</code> <code>type == 4</code>"},{"location":"myst4/file-reference/thor/particlesystembase/#fwind-structure","title":"<code>FWind</code> structure","text":"Name Type name <code>EncryptedString</code> localMatrixOffset <code>Vector3</code> localMatrixRotation <code>Vector3</code> maxForces <code>float32</code> ??? <code>float32</code>"},{"location":"myst4/file-reference/thor/particlesystembase/#forbital-structure","title":"<code>FOrbital</code> structure","text":"Name Type name <code>EncryptedString</code> localMatrixOffset <code>Vector3</code> localMatrixRotation <code>Vector3</code> id <code>uint32</code> ??? <code>float32</code> radialTargetSpeedAdjust <code>float32</code> ??? <code>float32</code>"},{"location":"myst4/file-reference/thor/particlesystembase/#ffriction-structure","title":"<code>FFriction</code> structure","text":"Name Type name <code>EncryptedString</code> friction <code>float32</code>"},{"location":"myst4/file-reference/thor/particlesystembase/#frayrepulsor-structure","title":"<code>FRayRepulsor</code> structure","text":"Name Type name <code>EncryptedString</code> localMatrixOffset <code>Vector3</code> localMatrixRotation <code>Vector3</code> ??? <code>float32</code> ??? <code>float32</code> maxDistance <code>float32</code>"},{"location":"myst4/file-reference/thor/particlesystembase/#steadystate-structure","title":"<code>SteadyState</code> structure","text":"Name Type id <code>uint32</code> ??? <code>Array</code>&lt;<code>uint8</code>&gt;"},{"location":"myst4/file-reference/thor/railresource/","title":"<code>RailResource</code>","text":"<ul> <li><code>ThorResourceType</code>: <code>0x1F</code></li> <li>Max. version: <code>0x1</code></li> </ul> <p>A <code>RailResource</code> describes a rail along which a hotspot can be dragged.</p>"},{"location":"myst4/file-reference/thor/railresource/#railresource-structure","title":"<code>RailResource</code> structure","text":"Name Type Description header <code>ThorResourceHeader</code> hotspotName <code>EncryptedString</code> Name of the <code>GeometryResource</code> which describes the draggable hotspot for this rail. initialVertex <code>uint16</code> directionType <code>DirectionType</code> sensitivity <code>float32</code> snapFactor <code>float32</code> maxAngle <code>float32</code> isCyclic <code>bool</code> Indicates whether the first and last rail segments connect back to each other, i.e. whether the rail's hotspot can be dragged past the last rail segment to the first (and/or vice versa). orientationX <code>float32</code> orientationZ <code>float32</code> vertices <code>Array</code>&lt;<code>RailVertex</code>&gt; If <code>!isCyclic</code>, <code>vertices[0].in</code> and <code>vertices[vertices.len-1].out</code> are ignored."},{"location":"myst4/file-reference/thor/railresource/#directiontype-enum","title":"<code>DirectionType</code> enum","text":"<p><code>DirectionType</code> describes the direction in which a hotspot can be dragged along a rail.</p> Name Value <code>Forward</code> <code>0x0</code> <code>Backward</code> <code>0x1</code> <code>Bidirectional</code> <code>0x2</code>"},{"location":"myst4/file-reference/thor/railresource/#railvertex-structure","title":"<code>RailVertex</code> structure","text":"<p>A <code>RailVertex</code> describes a vertex along a cubic B\u00e9zier curve.</p> Name Type Description pos <code>Vector3</code> Position. in <code>Vector3</code> out <code>Vector3</code>"},{"location":"myst4/file-reference/thor/subtitle/","title":"<code>Subtitle</code>","text":"<ul> <li><code>ThorResourceType</code>: <code>0x24</code></li> <li>Max. version: <code>0x1</code></li> </ul> <p>A <code>Subtitle</code> contains localised subtitles to accompany speech samples.</p>"},{"location":"myst4/file-reference/thor/subtitle/#subtitle-structure","title":"<code>Subtitle</code> structure","text":"Name Type Description header <code>ThorResourceHeader</code> ??? <code>int32</code> Revelation's code appears to ignore this field. Never observed to be anything other than <code>0x1</code>. soundName <code>BasicString</code> Full name of the sound resource to sync to. captions <code>Array</code>&lt;<code>Caption</code>&gt; In source material, all captions have a start time equal to the end time of the caption before it. It is unconfirmed whether this is required."},{"location":"myst4/file-reference/thor/subtitle/#caption-structure","title":"<code>Caption</code> structure","text":"Name Type Description startTime <code>float32</code> endTime <code>float32</code> text <code>BasicWString</code> Can be empty."},{"location":"myst4/file-reference/thor/text/","title":"<code>Text</code>","text":"<ul> <li>Type: <code>BasicWString</code></li> <li><code>ThorResourceType</code>: <code>0x26</code></li> <li>Max. version: <code>0x1</code></li> </ul> <p>A <code>Text</code> contains an arbitrary UTF-16 string.</p>"},{"location":"myst4/file-reference/thor/textresource/","title":"<code>TextResource</code>","text":"<ul> <li><code>ThorResourceType</code>: <code>0x25</code></li> <li>Max. version: <code>0x1</code></li> </ul> <p>A <code>TextResource</code> contains a collection of <code>Text</code> resources, possibly nested in one or more child <code>TextResource</code>s.</p>"},{"location":"myst4/file-reference/thor/textresource/#textresource-structure","title":"<code>TextResource</code> structure","text":"Name Type Description header <code>ThorResourceHeader</code> ??? <code>int32</code> Revelation's code appears to ignore this field. Never observed to be anything other than <code>0x1</code>. blip <code>Blip</code> Root blip."},{"location":"myst4/file-reference/thor/textresource/#blip-structure","title":"<code>Blip</code> structure","text":"<p>Under the hood a <code>Blip</code> is really just a <code>TextResource</code> without <code>header</code> and the unknown <code>int32</code>.</p> Name Type nTexts <code>int32</code> nGroups <code>int32</code> texts <code>BlipText</code>[<code>nTexts</code>] groups <code>BlipGroup</code>[<code>nGroups</code>]"},{"location":"myst4/file-reference/thor/textresource/#bliptext-structure","title":"<code>BlipText</code> structure","text":"Name Type Description resName <code>BasicString</code> <code>Text</code> resource name. text <code>Text</code>"},{"location":"myst4/file-reference/thor/textresource/#blipgroup-structure","title":"<code>BlipGroup</code> structure","text":"Name Type Description resName <code>BasicString</code> <code>TextResource</code> resource name. group <code>Blip</code>"},{"location":"myst4/file-reference/thor/texturebox/","title":"<code>TextureBox</code>","text":"<ul> <li><code>ThorResourceType</code>: <code>0xF</code></li> <li>Max. version: <code>0x5</code></li> </ul> <p>A <code>TextureBox</code> describes a single-layer texture box.</p>"},{"location":"myst4/file-reference/thor/texturebox/#texturebox-structure","title":"<code>TextureBox</code> structure","text":"Name Type Description header <code>ThorResourceHeader</code> bftexPath <code>EncryptedString</code> Virtual path to the <code>BigFile</code> containing the texture sets. During loading, this BigFile is mounted to <code>/bftex</code>. radius <code>float32</code> isZBox <code>bool</code> zNear <code>float32</code> zFar <code>float32</code> zExponent <code>float32</code> isLayerMask <code>bool</code> layerIndex <code>uint32</code> components <code>Array</code>&lt;<code>EncryptedString</code>&gt; states <code>Array</code>&lt;<code>StateDesc</code>&gt;"},{"location":"myst4/file-reference/thor/texturebox/#statedesc-structure","title":"<code>StateDesc</code> structure","text":"Name Type ??? <code>uint32</code> ??? <code>Array</code>&lt;<code>EncryptedString</code>&gt;"},{"location":"myst4/file-reference/thor/textureresource/","title":"<code>TextureResource</code>","text":"<ul> <li><code>ThorResourceType</code>: <code>0x27</code></li> <li>Max. version: <code>0x2</code></li> </ul> <p>A <code>TextureResource</code> contains a single texture image, or a reference to one if it is localised.</p>"},{"location":"myst4/file-reference/thor/textureresource/#textureresource-structure","title":"<code>TextureResource</code> structure","text":"Name Type Condition Description header <code>ThorResourceHeader</code> isLocalised <code>bool</code> Indicates whether this texture has localised content. path <code>BasicString</code> <code>isLocalised</code> Virtual path to localised texture file. Never observed to refer to anything but raw PNG files. format <code>EncryptedString</code> <code>!isLocalised</code> Format of <code>data</code>. Never observed to be anything other than \"png\". data <code>Array</code>&lt;<code>uint8</code>&gt; <code>!isLocalised</code>"},{"location":"myst4/file-reference/thor/variableresource/","title":"<code>VariableResource</code>","text":"<ul> <li><code>ThorResourceType</code>: <code>0x28</code></li> <li>Max. version: <code>0x1</code></li> </ul> <p>A <code>VariableResource</code> contains the value of a variable.</p>"},{"location":"myst4/file-reference/thor/variableresource/#variableresource-structure","title":"<code>VariableResource</code> structure","text":"Name Type Condition header <code>ThorResourceHeader</code> type <code>uint32</code> value <code>uint8</code> <code>type == 0x1</code> value <code>uint16</code> <code>type == 0x2</code> value <code>uint32</code> <code>type == 0x3</code> value <code>int8</code> <code>type == 0x4</code> value <code>int16</code> <code>type == 0x5</code> value <code>int32</code> <code>type == 0x6</code> value <code>float32</code> <code>type == 0x7</code> value <code>float64</code> <code>type == 0x8</code> value <code>bool</code> <code>type == 0x9</code> value <code>BasicString</code> <code>type == 0xA</code> value <code>Vector3</code> <code>type == 0xB</code>"},{"location":"myst4/file-reference/thor/video/","title":"<code>Video</code>","text":"<ul> <li><code>ThorResourceType</code>: <code>0x29</code></li> <li>Max. version: <code>0x5</code></li> </ul> <p>A <code>Video</code> describes the properties and location of a Bink (<code>.bik</code>) video file.</p>"},{"location":"myst4/file-reference/thor/video/#video-structure","title":"<code>Video</code> structure","text":"Name Type Condition Description header <code>ThorResourceHeader</code> ??? <code>bool</code> Revelation's code appears to ignore this field. path <code>EncryptedString</code> Virtual path to video file. hasAlpha <code>bool</code> Indicates whether the video contains transparency data. preload <code>bool</code> Indicates whether the video should be preloaded. isMonochrome <code>bool</code> dataRate <code>uint32</code> hasKeyframes <code>bool</code> keyframes <code>ThorResource</code> <code>hasKeyframes</code> Used for easy seeking through the video. Resource is ignored if not a <code>ContainerResource</code>, and contained resources are ignored if not <code>VariableResource</code>. However, the <code>VariableResource</code>s must have <code>uint32</code> type, or Revelation will crash."},{"location":"myst4/file-reference/ubi/","title":"<code>ubi</code> resource","text":""},{"location":"myst4/file-reference/ubi/#ubi-resource-file-structure","title":"<code>ubi</code> resource file structure","text":"Name Type Description magic <code>FileMagic</code> Magic signature. version <code>uint32</code> Global version. Individual resource types can have different binary contents depending on this version. resource <code>UbiResource</code>"},{"location":"myst4/file-reference/ubi/#ubiresource-structure","title":"<code>UbiResource</code> structure","text":"Name Type Description type <code>UbiResourceType</code> data ... Data according to <code>type</code>."},{"location":"myst4/file-reference/ubi/#ubiresourcetype-string","title":"<code>UbiResourceType</code> string","text":"<ul> <li>Type: <code>BasicString</code></li> </ul> <p>An <code>UbiResourceType</code> identifies the type of <code>ubi</code> resource that follows immediately after it.</p> <p>This string value table might not be complete!</p> Value <code>\"ares::ArrayVertexIndex\"</code> <code>\"ares::ArrayVertexPos\"</code> <code>\"ares::ArrayVertexNormal\"</code> <code>\"ares::ArrayVertexColor\"</code> <code>\"ares::ArrayVertexTexCoord\"</code> <code>\"ares::ArrayVertexBlendingIndex\"</code> <code>\"ares::ArrayVertexBlendingWeight\"</code> <code>\"ares::UserArray\"</code> <code>\"ares::SkinningParameters\"</code> <code>\"ares::IndexedTriangleStrip\"</code> <code>\"ares::IndexedTriangleList\"</code> <code>\"ares::PointList\"</code> <code>\"ares::LineList\"</code> <code>\"ares::SpriteList\"</code> <code>\"ares::SpriteList2D\"</code> <code>\"ares::InterleavedPrimitive\"</code> <code>\"ares::RenderTask\"</code> <code>\"ares::Matrix\"</code> <code>\"ares::RenderState\"</code> <code>\"ares::Texture\"</code> <code>\"ares::TextureFrame\"</code> <code>\"ares::CameraOrthogonal\"</code> <code>\"ares::CameraPerspective\"</code> <code>\"ares::RenderMethod\"</code> <code>\"ares::Effect\"</code> <code>\"ares::Light\"</code> <code>\"ares::ExternalDataContainer\"</code> <code>\"ares_tools::Font\"</code> <code>\"astra_renderer::ParticleSystemExternalData\"</code> <code>\"astra_renderer::RendererNodeAres\"</code> <code>\"atlas::CameraOrthogonal\"</code> <code>\"atlas::CameraPerspective\"</code> <code>\"atlas::GeometricInstance\"</code> <code>\"atlas::GeometricInstanceLOD\"</code> <code>\"atlas::Node\"</code> <code>\"atlas::Light\"</code> <code>\"MORE::Animation\"</code> <code>\"MORE::Clip\"</code> <code>\"MOREActor::ActorModel\"</code> <code>\"MOREActor::SoundTable\"</code> <code>\"snd::Familly\"</code> <code>\"snd::InitValueConst &lt; ubiU32 &gt;\"</code> <code>\"snd::InitValueRange &lt; ubiU32 &gt;\"</code> <code>\"snd::InitValueSequence &lt; ubiU32 &gt;\"</code> <code>\"snd::InitValueConst &lt; ubiS32 &gt;\"</code> <code>\"snd::InitValueRange &lt; ubiS32 &gt;\"</code> <code>\"snd::InitValueSequence &lt; ubiS32 &gt;\"</code> <code>\"snd::InitValueConst &lt; ubiF32 &gt;\"</code> <code>\"snd::InitValueRange &lt; ubiF32 &gt;\"</code> <code>\"snd::InitValueSequence &lt; ubiF32 &gt;\"</code> <code>\"snd::InitValueConst &lt; ubi::Vector3 &gt;\"</code> <code>\"snd::InitValueRange &lt; ubi::Vector3 &gt;\"</code> <code>\"snd::InitValueSequence &lt; ubi::Vector3 &gt;\"</code> <code>\"snd::VirtualPanning\"</code> <code>\"snd::Project\"</code> <code>\"snd::FamillyPlaying\"</code> <code>\"snd::FamillyPlayingSound\"</code> <code>\"snd::Sequence\"</code> <code>\"snd::Setting\"</code> <code>\"snd::Sound\"</code> <code>\"snd::SoundList\"</code>"},{"location":"myst4/file-reference/ubi/#ubisubresource-structure","title":"<code>UbiSubResource</code> structure","text":"<p>A <code>UbiSubResource</code> can be either a reference to an external <code>ubi</code> resource file, or contain an embedded <code>UbiResource</code>.</p> Name Type Condition Description path <code>BasicString</code> Virtual path to <code>ubi</code> resource file (only if <code>path.len != 0</code>). resource <code>UbiResource</code> <code>path.len == 0</code> Embedded resource."},{"location":"myst4/file-reference/ubi/#validatedubisubresource-structure","title":"<code>ValidatedUbiSubResource</code> structure","text":"Name Type Condition isValid <code>bool</code> resource <code>UbiSubResource</code> <code>isValid</code>"},{"location":"myst4/file-reference/ubi/ares-arrayvertexblendingindex/","title":"<code>ares::ArrayVertexBlendingIndex</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"ares::ArrayVertexBlendingIndex\"</code></li> </ul>"},{"location":"myst4/file-reference/ubi/ares-arrayvertexblendingindex/#aresarrayvertexblendingindex-structure","title":"<code>ares::ArrayVertexBlendingIndex</code> structure","text":"Name Type Condition name <code>BasicString</code> <code>version &gt;= 0x5</code> blendingIndices <code>Array</code>&lt;<code>uint32</code>&gt;"},{"location":"myst4/file-reference/ubi/ares-arrayvertexblendingweight/","title":"<code>ares::ArrayVertexBlendingWeight</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"ares::ArrayVertexBlendingWeight\"</code></li> </ul>"},{"location":"myst4/file-reference/ubi/ares-arrayvertexblendingweight/#aresarrayvertexblendingweight-structure","title":"<code>ares::ArrayVertexBlendingWeight</code> structure","text":"Name Type Condition name <code>BasicString</code> <code>version &gt;= 0x5</code> blendingWeights <code>Array</code>&lt;<code>float32</code>&gt;"},{"location":"myst4/file-reference/ubi/ares-arrayvertexcolor/","title":"<code>ares::ArrayVertexColor</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"ares::ArrayVertexColor\"</code></li> </ul>"},{"location":"myst4/file-reference/ubi/ares-arrayvertexcolor/#aresarrayvertexcolor-structure","title":"<code>ares::ArrayVertexColor</code> structure","text":"Name Type Condition name <code>BasicString</code> <code>version &gt;= 0x5</code> colors <code>Array</code>&lt;<code>Color</code>&gt;"},{"location":"myst4/file-reference/ubi/ares-arrayvertexindex/","title":"<code>ares::ArrayVertexIndex</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"ares::ArrayVertexIndex\"</code></li> </ul>"},{"location":"myst4/file-reference/ubi/ares-arrayvertexindex/#aresarrayvertexindex-structure","title":"<code>ares::ArrayVertexIndex</code> structure","text":"Name Type Condition name <code>BasicString</code> <code>version &gt;= 0x5</code> indices <code>Array</code>&lt;<code>uint16</code>&gt;"},{"location":"myst4/file-reference/ubi/ares-arrayvertexnormal/","title":"<code>ares::ArrayVertexNormal</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"ares::ArrayVertexNormal\"</code></li> </ul>"},{"location":"myst4/file-reference/ubi/ares-arrayvertexnormal/#aresarrayvertexnormal-structure","title":"<code>ares::ArrayVertexNormal</code> structure","text":"Name Type Condition name <code>BasicString</code> <code>version &gt;= 0x5</code> normals <code>Array</code>&lt;<code>Vector3</code>&gt;"},{"location":"myst4/file-reference/ubi/ares-arrayvertexpos/","title":"<code>ares::ArrayVertexPos</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"ares::ArrayVertexPos\"</code></li> </ul>"},{"location":"myst4/file-reference/ubi/ares-arrayvertexpos/#aresarrayvertexpos-structure","title":"<code>ares::ArrayVertexPos</code> structure","text":"Name Type Condition name <code>BasicString</code> <code>version &gt;= 0x5</code> positions <code>Array</code>&lt;<code>Vector3</code>&gt;"},{"location":"myst4/file-reference/ubi/ares-arrayvertextexcoord/","title":"<code>ares::ArrayVertexTexCoord</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"ares::ArrayVertexTexCoord\"</code></li> </ul>"},{"location":"myst4/file-reference/ubi/ares-arrayvertextexcoord/#aresarrayvertextexcoord-structure","title":"<code>ares::ArrayVertexTexCoord</code> structure","text":"Name Type Condition name <code>BasicString</code> <code>version &gt;= 0x5</code> texCoords <code>Array</code>&lt;<code>Vector2</code>&gt;"},{"location":"myst4/file-reference/ubi/ares-camera/","title":"<code>ares::Camera</code>","text":"<p><code>ares::Camera</code> is a base for <code>ares::CameraOrthogonal</code> and <code>ares::CameraPerspective</code>.</p>"},{"location":"myst4/file-reference/ubi/ares-camera/#arescamera-structure","title":"<code>ares::Camera</code> structure","text":"Name Type Condition name <code>BasicString</code> <code>version &gt;= 0x5</code> matrix <code>Matrix44</code> frustumLeft <code>float32</code> frustumRight <code>float32</code> frustumBottom <code>float32</code> frustumTop <code>float32</code> frustumNear <code>float32</code> frustumFar <code>float32</code> viewportPosX <code>float32</code> viewportPosY <code>float32</code> viewportWidth <code>float32</code> viewportHeight <code>float32</code> sortModeOpaque <code>uint32</code> sortModeTransparent <code>uint32</code>"},{"location":"myst4/file-reference/ubi/ares-camera/#arescameraorthogonal","title":"<code>ares::CameraOrthogonal</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"ares::CameraOrthogonal\"</code></li> </ul>"},{"location":"myst4/file-reference/ubi/ares-camera/#arescameraorthogonal-structure","title":"<code>ares::CameraOrthogonal</code> structure","text":"Name Type base <code>ares::Camera</code> pixelAspectRatio <code>float32</code> fieldOfView <code>float32</code>"},{"location":"myst4/file-reference/ubi/ares-camera/#arescameraperspective","title":"<code>ares::CameraPerspective</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"ares::CameraOrthogonal\"</code></li> </ul>"},{"location":"myst4/file-reference/ubi/ares-camera/#arescameraperspective-structure","title":"<code>ares::CameraPerspective</code> structure","text":"base Type Description base <code>ares::Camera</code> pixelAspectRatio <code>float32</code> fieldOfViewHorizontal <code>float32</code> isFieldOfViewHorizontal <code>bool</code> If <code>false</code>, field of view is set to 0.0."},{"location":"myst4/file-reference/ubi/ares-matrix/","title":"<code>ares::Matrix</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"ares::Matrix\"</code></li> </ul> <p>An <code>ares::Matrix</code> contains a single <code>Matrix44</code>.</p>"},{"location":"myst4/file-reference/ubi/ares-matrix/#aresmatrix-structure","title":"<code>ares::Matrix</code> structure","text":"Name Type Condition name <code>BasicString</code> <code>version &gt;= 0x5</code> matrix <code>Matrix44</code>"},{"location":"myst4/file-reference/ubi/ares-renderstate/","title":"<code>ares::RenderState</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"ares::RenderState\"</code></li> </ul> <p>The purpose of the <code>ares::RenderState</code> is a mystery, as it contains no relevant data.</p>"},{"location":"myst4/file-reference/ubi/ares-renderstate/#aresrenderstate-structure","title":"<code>ares::RenderState</code> structure","text":"Name Type Condition name <code>BasicString</code> <code>version &gt;= 0x5</code>"},{"location":"myst4/file-reference/ubi/ares-texture/","title":"<code>ares::Texture</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"ares::Texture\"</code> and <code>\"ares::TextureFrame\"</code></li> </ul> <p>An <code>ares::Texture</code> contains a texture and some relevant parsing information.</p> <p>It is unknown what the distinction is between <code>ares::Texture</code> and <code>ares::TextureFrame</code>; they share the same serialisation routine.</p>"},{"location":"myst4/file-reference/ubi/ares-texture/#arestexture-structure","title":"<code>ares::Texture</code> structure","text":"Name Type Condition name <code>BasicString</code> <code>version &gt;= 0x5</code> formatLen <code>uint8</code> format <code>uint8</code>[<code>formatLen</code>] accessPerms <code>uint32</code> transparencyType <code>uint32</code> formatHint <code>uint32</code> <code>version &gt;= 0xA</code> nFiles <code>uint8</code> textureFile <code>Array</code>&lt;<code>uint8</code>&gt;"},{"location":"myst4/file-reference/ubi/arestools-font/","title":"<code>ares_tools::Font</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"ares_tools::Font\"</code></li> </ul> <p>An <code>ares_tools::Font</code> describes a font. They are contained exclusively in <code>.fnt</code> files found in <code>data.m4b/common/common.m4b/font/</code>.</p>"},{"location":"myst4/file-reference/ubi/arestools-font/#ares_toolsfont-structure","title":"<code>ares_tools::Font</code> structure","text":"Name Type Description name <code>BasicString</code> nTextures <code>uint32</code> Number of <code>.tga</code> texture files containing the font's letters. They are in the same directory as the <code>.fnt</code> file with a one-indexed <code>_%d</code> suffix in the filename. letters <code>Array</code>&lt;<code>Letter</code>&gt;"},{"location":"myst4/file-reference/ubi/arestools-font/#letter-structure","title":"<code>Letter</code> structure","text":"Name Type Description code <code>uint16</code> Code point. lowerLeftTexCoord <code>Vector2</code> upperRightTexCoord <code>Vector2</code> textureIndex <code>int32</code> Index of the texture file containing this letter. See the description of [<code>ares_tools::Font</code>]'s <code>nTextures</code> field above for more info. <p>Note</p> <p>The floats in both tex coords consider the bottom-left (0.0, 0.0), and the upper right (1.0, 1.0).</p>"},{"location":"myst4/file-reference/ubi/more-animation/","title":"<code>MORE::Animation</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"MORE::Animation\"</code></li> </ul>"},{"location":"myst4/file-reference/ubi/more-animation/#moreanimation-structure","title":"<code>MORE::Animation</code> structure","text":"Name Type Condition name <code>BasicString</code> <code>version &lt; 0xF</code> duration <code>float32</code> isDelta <code>bool</code> <code>version &gt;= 0xC</code> tracks <code>Array</code>&lt;<code>Track</code>&gt; instants <code>Array</code>&lt;<code>Instant</code>&gt; <code>version &gt;= 0x9</code>"},{"location":"myst4/file-reference/ubi/more-animation/#track-structure","title":"<code>Track</code> structure","text":"Name Type Condition Description type <code>uint32</code> Never observed to be <code>type &gt;= 0x0D</code>. name <code>BasicString</code> data <code>TrackSimple</code>&lt;<code>uint16</code>, <code>uint16</code>, <code>TimeF16</code>&gt; <code>type == 0x00</code> data <code>TrackSimple</code>&lt;<code>float32</code>, <code>float32</code>, <code>float32</code>&gt; <code>type == 0x01</code> data <code>TrackSimple</code>&lt;<code>Vector3</code>, <code>Vector3</code>, <code>float32</code>&gt; <code>type == 0x02</code> data <code>TrackSimple</code>&lt;<code>Quaternion</code>, <code>Quaternion</code>, <code>float32</code>&gt; <code>type == 0x03</code> data <code>TrackLinear</code>&lt;<code>float32</code>, <code>float32</code>, <code>float32</code>&gt; <code>type == 0x04</code> data <code>TrackLinear</code>&lt;<code>Vector3</code>, <code>Vector3</code>, <code>float32</code>&gt; <code>type == 0x05</code> data <code>TrackLinear</code>&lt;<code>Quaternion</code>, <code>Quaternion</code>, <code>float32</code>&gt; <code>type == 0x06</code> data <code>TrackBezier</code>&lt;<code>float32</code>, <code>float32</code>, <code>float32</code>&gt; <code>type == 0x07</code> data <code>TrackBezier</code>&lt;<code>Vector3</code>, <code>Vector3</code>, <code>float32</code>&gt; <code>type == 0x08</code> data <code>TrackBezier</code>&lt;<code>Quaternion</code>, <code>Quaternion</code>, <code>float32</code>&gt; <code>type == 0x09</code> data <code>TrackTCB</code>&lt;<code>float32</code>&gt; <code>type == 0x0A</code> data <code>TrackTCB</code>&lt;<code>Vector3</code>&gt; <code>type == 0x0B</code> data <code>TrackTCB</code>&lt;<code>Quaternion</code>&gt; <code>type == 0x0C</code> data <code>TrackDisplacement</code> <code>type == 0x0D</code> data <code>TrackEvent</code> <code>type == 0x0E</code> data <code>TrackUser</code>&lt;<code>uint16</code>&gt; <code>type == 0x0F</code> data <code>TrackUser</code>&lt;<code>float32</code>&gt; <code>type == 0x10</code> data <code>TrackUser</code>&lt;<code>Vector3</code>&gt; <code>type == 0x11</code> data <code>TrackUser</code>&lt;<code>Quaternion</code>&gt; <code>type == 0x12</code> data <code>TrackSimple</code>&lt;<code>Quaternion</code>, <code>CompressedQuaternionU32</code>, <code>float32</code>&gt; <code>type == 0x13</code> data <code>TrackLinear</code>&lt;<code>Quaternion</code>, <code>CompressedQuaternionU32</code>, <code>float32</code>&gt; <code>type == 0x14</code> data <code>TrackBezier</code>&lt;<code>Quaternion</code>, <code>CompressedQuaternionU32</code>, <code>float32</code>&gt; <code>type == 0x15</code> data <code>TrackSimple</code>&lt;<code>Quaternion</code>, <code>CompressedQuaternion3U16</code>, <code>TimeF16</code>&gt; <code>type == 0x18</code> data <code>TrackLinear</code>&lt;<code>Quaternion</code>, <code>CompressedQuaternion3U16</code>, <code>TimeF16</code>&gt; <code>type == 0x19</code> data <code>TrackBezier</code>&lt;<code>Quaternion</code>, <code>CompressedQuaternion3U16</code>, <code>TimeF16</code>&gt; <code>type == 0x1A</code> data <code>TrackSimple</code>&lt;<code>Vector3</code>, <code>EulerAngleRad</code>, <code>TimeF16</code>&gt; <code>type == 0x1D</code> data <code>TrackLinear</code>&lt;<code>Vector3</code>, <code>EulerAngleRad</code>, <code>TimeF16</code>&gt; <code>type == 0x1E</code> data <code>TrackBezier</code>&lt;<code>Vector3</code>, <code>EulerAngleRad</code>, <code>TimeF16</code>&gt; <code>type == 0x1F</code> <p>Note</p> <p>If <code>type</code> is not any of the values listed above, Revelation will crash.</p>"},{"location":"myst4/file-reference/ubi/more-animation/#timef16-type","title":"<code>TimeF16</code> type","text":"<ul> <li>Type: <code>uint16</code></li> </ul> <p>Compression/decompression:</p> <pre><code>uint16 TimeF16::Compress(float32 src) {\n    return (uint16)((*src + 300.0) * (1.0/600.0) * 65534.0);\n}\n\nfloat32 TimeF16::Decompress(uint16 src) {\n    return (float32)src * (1.0/65534.0) * 600.0 - 300.0;\n}\n</code></pre>"},{"location":"myst4/file-reference/ubi/more-animation/#euleranglerad-type","title":"<code>EulerAngleRad</code> type","text":"<ul> <li>Type: <code>uint16</code></li> </ul> <p>Compression/decompression:</p> <pre><code>uint16 EulerAngleRad::Compress(float32 src) {\n    return (uint16)((src + M_PI*10) * (M_PI*20) * 65534.0);\n}\n\nfloat32 EulerAngleRad::Decompress(uint16 src) {\n    return (float32)src * (1.0/65534.0) * (1.0/(M_PI*20) - M_PI*10);\n}\n</code></pre>"},{"location":"myst4/file-reference/ubi/more-animation/#tracksimple-structure","title":"<code>TrackSimple</code>&lt;<code>Value</code>, <code>ValueComp</code>, <code>Time</code>&gt; structure","text":"Name Type Description terminate <code>bool</code> Revelation's code appears to ignore this field. Never observed to be anything other than <code>true</code>. keys <code>Array</code>&lt;<code>KeySimple</code>&lt;<code>Value</code>, <code>ValueComp</code>, <code>Time</code>&gt;&gt;"},{"location":"myst4/file-reference/ubi/more-animation/#keysimple-structure","title":"<code>KeySimple</code>&lt;<code>Value</code>, <code>ValueComp</code>, <code>Time</code>&gt; structure","text":"Name Type Condition time <code>float32</code> <code>version &lt; 0x10</code> time <code>Time</code> <code>version &gt;= 0x10</code> value <code>ValueComp</code>"},{"location":"myst4/file-reference/ubi/more-animation/#tracklinear-structure","title":"<code>TrackLinear</code>&lt;<code>Value</code>, <code>ValueComp</code>, <code>Time</code>&gt; structure","text":"Name Type Description terminate <code>bool</code> Revelation's code appears to ignore this field. Never observed to be anything other than <code>true</code>. keys <code>Array</code>&lt;<code>KeyLinear</code>&lt;<code>Value</code>, <code>ValueComp</code>, <code>Time</code>&gt;&gt;"},{"location":"myst4/file-reference/ubi/more-animation/#keylinear-structure","title":"<code>KeyLinear</code>&lt;<code>Value</code>, <code>ValueComp</code>, <code>Time</code>&gt; structure","text":"Name Type time <code>Time</code> value <code>ValueComp</code>"},{"location":"myst4/file-reference/ubi/more-animation/#trackbezier-structure","title":"<code>TrackBezier</code>&lt;<code>Value</code>, <code>ValueComp</code>, <code>Time</code>&gt; structure","text":"Name Type Description terminate <code>bool</code> Revelation's code appears to ignore this field. Never observed to be anything other than <code>true</code>. keys <code>Array</code>&lt;<code>KeyBezier</code>&lt;<code>Value</code>, <code>ValueComp</code>, <code>Time</code>&gt;&gt;"},{"location":"myst4/file-reference/ubi/more-animation/#keybezier-structure","title":"<code>KeyBezier</code>&lt;<code>Value</code>, <code>ValueComp</code>, <code>Time</code>&gt; structure","text":"Name Type Condition Description time <code>Time</code> value <code>ValueComp</code> derSrc <code>Value</code> <code>version &lt; 0x11</code> derDst <code>Value</code> <code>version &lt; 0x11</code> Ignored if <code>Value == Quaternion</code>. derSrc <code>ValueComp</code> <code>version &gt;= 0x11</code> derDst <code>ValueComp</code> <code>version &gt;= 0x11 &amp;&amp; Value != Quaternion</code> flatOut <code>bool</code>"},{"location":"myst4/file-reference/ubi/more-animation/#tracktcb-structure","title":"<code>TrackTCB</code>&lt;<code>Value</code>&gt; structure","text":"Name Type Description terminate <code>bool</code> Revelation's code appears to ignore this field. Never observed to be anything other than <code>true</code>. keys <code>Array</code>&lt;<code>KeyTCB</code>&lt;<code>Value</code>&gt;&gt;"},{"location":"myst4/file-reference/ubi/more-animation/#keytcb-structure","title":"<code>KeyTCB</code>&lt;<code>Value</code>&gt; structure","text":"Name Type Condition time <code>float32</code> value <code>Value</code> tens <code>float32</code> cont <code>float32</code> bias <code>float32</code> easeTo <code>float32</code> easeFrom <code>float32</code> derSrc <code>Value</code> derDst <code>Value</code> angle <code>float32</code> <code>Value == Quaternion</code> axis <code>Vector3</code> <code>Value == Quaternion</code>"},{"location":"myst4/file-reference/ubi/more-animation/#trackdisplacement-structure","title":"<code>TrackDisplacement</code> structure","text":"Name Type position <code>Track</code> rotation <code>Track</code>"},{"location":"myst4/file-reference/ubi/more-animation/#trackevent-structure","title":"<code>TrackEvent</code> structure","text":"Name Type keys <code>Array</code>&lt;<code>KeyEvent</code>&gt;"},{"location":"myst4/file-reference/ubi/more-animation/#keyevent-structure","title":"<code>KeyEvent</code> structure","text":"Name Type Condition time <code>float32</code> value <code>uint32</code> userData <code>BasicString</code> <code>version &gt;= 0x2</code>"},{"location":"myst4/file-reference/ubi/more-animation/#trackuser-structure","title":"<code>TrackUser</code>&lt;<code>Value</code>&gt; structure","text":"Name Type Description terminate <code>bool</code> Revelation's code appears to ignore this field."},{"location":"myst4/file-reference/ubi/more-animation/#instant-structure","title":"<code>Instant</code> structure","text":"Name Type time <code>float32</code> id <code>uint16</code>"},{"location":"myst4/file-reference/ubi/more-clip/","title":"<code>MORE::Clip</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"MORE::Animation\"</code></li> </ul>"},{"location":"myst4/file-reference/ubi/more-clip/#moreclip-structure","title":"<code>MORE::Clip</code> structure","text":"Name Type Description type <code>uint32</code> layerID <code>uint16</code> isLooping <code>bool</code> timeScale <code>float32</code> blending <code>float32</code> <code>version &gt;= 0x1</code> transitionIn <code>float32</code> <code>version &gt;= 0x1</code> transitionOut <code>float32</code> <code>version &gt;= 0x1</code> timeWarpOn <code>bool</code> <code>version &gt;= 0xE</code> timeWarp <code>LinearWarp01</code> <code>version &gt;= 0xE &amp;&amp; timeWarpOn</code> animationData <code>SimpleAnim</code> <code>type == 0x0</code> animationData <code>SyncAnims</code> <code>type == 0x1</code> <p>Note</p> <p>If <code>type</code> is not any of the values listed above, Revelation will crash.</p>"},{"location":"myst4/file-reference/ubi/more-clip/#linearwarp01-structure","title":"<code>LinearWarp01</code> structure","text":"Name Type ??? <code>Array</code>&lt;<code>LinearWarp01Unknown</code>&gt;"},{"location":"myst4/file-reference/ubi/more-clip/#linearwarp01unknown-structure","title":"<code>LinearWarp01Unknown</code> structure","text":"Name Type first <code>float32</code> second <code>float32</code>"},{"location":"myst4/file-reference/ubi/more-clip/#simpleanim-structure","title":"<code>SimpleAnim</code> structure","text":"Name Type Description animation <code>UbiSubResource</code> Revelation assumes <code>type</code> to be <code>\"MORE::Animation\"</code>."},{"location":"myst4/file-reference/ubi/more-clip/#syncanims-structure","title":"<code>SyncAnims</code> structure","text":"Name Type Condition Description subLayers <code>Array</code>&lt;<code>UbiSubResource</code>&gt; Revelation assumes all <code>type</code> to be <code>\"MORE::Animation\"</code>. blendings <code>float32</code>[<code>subLayers.len</code>] <code>version &gt;= 0x1</code> adjustDurations <code>bool</code>[<code>subLayers.len</code>] <code>version &gt;= 0xB</code> <p>Note</p> <p>Any <code>subLayers</code> values which have an <code>instants.len</code> which does not match the first layer's, are ignored, along with their corresponding <code>blendings</code> and <code>adjustDurations</code> values.</p>"},{"location":"myst4/file-reference/ubi/moreactor-actormodel/","title":"<code>MOREActor::ActorModel</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"MOREActor::ActorModel\"</code></li> </ul>"},{"location":"myst4/file-reference/ubi/moreactor-actormodel/#moreactoractormodel-structure","title":"<code>MOREActor::ActorModel</code> structure","text":"Name Type Condition Description bonesName <code>BasicString</code> <code>version &lt; 0x6</code> Revelation's code appears to ignore this field. bonesGeometricFileName <code>BasicString</code> <code>version &lt; 0x6</code> Revelation's code appears to ignore this field. bones <code>Array</code>&lt;<code>BoneInfo</code>&gt; <code>version &gt;= 0x6 &amp;&amp; version &lt; 0x8</code> bones <code>Array</code>&lt;<code>BoneModel</code>&gt; <code>version &gt;= 0x8</code> eventEmitters <code>Array</code>&lt;<code>EventEmitterInfo</code>&gt; <code>version &gt;= 0x3 &amp;&amp; version &lt; 0x8</code> eventEmitters <code>Array</code>&lt;<code>EventEmitterModel</code>&gt; <code>version &gt;= 0x8</code> soundEmitters <code>Array</code>&lt;<code>SoundEmitterInfo</code>&gt; <code>version &lt; 0x8</code> soundEmitters <code>Array</code>&lt;<code>BaseEmitterModel</code>&gt; <code>version &gt;= 0x8</code> stateModels <code>Array</code>&lt;<code>BaseTrackContainerModel</code>&gt; <code>version =&gt; 0xA</code> channels <code>Array</code>&lt;<code>ChannelInfo</code>&gt; <code>version &lt; 0x8</code> channels <code>Array</code>&lt;<code>ChannelModel</code>&gt; <code>version &gt;= 0x8</code> graphicObjectNames <code>Array</code>&lt;<code>BasicString</code>&gt; <code>version &gt;= 0x6</code>"},{"location":"myst4/file-reference/ubi/moreactor-actormodel/#basehierarchymodel-structure","title":"<code>BaseHierarchyModel</code> structure","text":"Name Type Condition Description name <code>BasicString</code> fatherIndex <code>int16</code> type <code>uint32</code> position ??? Type changes based on <code>type</code> (<code>0x0</code>, <code>0x1</code> or <code>0x2</code>). <p>Note</p> <p>If <code>type</code> is not any of the values listed above, Revelation will crash.</p>"},{"location":"myst4/file-reference/ubi/moreactor-actormodel/#baserotationmodel-structure","title":"<code>BaseRotationModel</code> structure","text":"Name Type Condition Description type <code>uint32</code> rotation ??? Type changes based on <code>type</code> (<code>0x0</code>, <code>0x1</code>, <code>0x2</code>, <code>0x3</code> or <code>0x4</code>). <p>Note</p> <p>If <code>type</code> is not any of the values listed above, Revelation will crash.</p>"},{"location":"myst4/file-reference/ubi/moreactor-actormodel/#baseemittermodel-structure","title":"<code>BaseEmitterModel</code> structure","text":"Name Type bhm <code>BaseHierarchyModel</code> box <code>Box</code> trackNames <code>Array</code>&lt;<code>BasicString</code>&gt;"},{"location":"myst4/file-reference/ubi/moreactor-actormodel/#basetrackcontainermodel-structure","title":"<code>BaseTrackContainerModel</code> structure","text":"Name Type name <code>BasicString</code> trackNames <code>Array</code>&lt;<code>BasicString</code>&gt;"},{"location":"myst4/file-reference/ubi/moreactor-actormodel/#boneinfo-structure","title":"<code>BoneInfo</code> structure","text":"Name Type Condition Description name <code>BasicString</code> positionName <code>BasicString</code> rotationName <code>BasicString</code> scaleValueName <code>BasicString</code> <code>version &gt;= 0x7</code> scaleOrientationName <code>BasicString</code> <code>version &gt;= 0x7</code> useScale <code>bool</code> <code>version &gt;= 0x7</code> fatherIndex <code>int16</code> defaultPosition <code>Vector3</code> defaultRotation <code>Quaternion</code> scaleValue <code>Vector3</code> <code>version &lt; 0x7</code> scaleOrientation <code>Quaternion</code> <code>version &lt; 0x7</code> matrixDeterminant <code>float32</code> <code>version &lt; 0x7</code> <code>scaleValue *= matrixDeterminant</code> defaultScaleValue <code>Vector3</code> <code>version &gt;= 0x7</code> defaultScaleOrientation <code>Quaternion</code> <code>version &gt;= 0x7</code>"},{"location":"myst4/file-reference/ubi/moreactor-actormodel/#bonemodel-structure","title":"<code>BoneModel</code> structure","text":"Name Type Condition bhm <code>BaseHierarchyModel</code> brm <code>BaseRotationModel</code> type <code>uint32</code> scale <code>AnimScale</code> <code>type == 0x0</code> scale <code>ConstScale</code> <code>type == 0x1</code> <p>Note</p> <p>If <code>type</code> is not any of the values listed above, Revelation will crash.</p>"},{"location":"myst4/file-reference/ubi/moreactor-actormodel/#animscale-structure","title":"<code>AnimScale</code> structure","text":"Name Type const <code>ConstAnim</code> valueName <code>BasicString</code> rotationName <code>BasicString</code>"},{"location":"myst4/file-reference/ubi/moreactor-actormodel/#constscale-structure","title":"<code>ConstScale</code> structure","text":"Name Type value <code>Vector3</code> rotation <code>Quaternion</code>"},{"location":"myst4/file-reference/ubi/moreactor-actormodel/#eventemitterinfo-structure","title":"<code>EventEmitterInfo</code> structure","text":"Name Type Condition name <code>BasicString</code> positionName <code>BasicString</code> rotationName <code>BasicString</code> fatherIndex <code>int16</code> defaultPosition <code>Vector3</code> defaultRotation <code>Quaternion</code> box <code>Box</code> <code>version &gt;= 0x4</code> eventTrackNames <code>Array</code>&lt;<code>BasicString</code>&gt;"},{"location":"myst4/file-reference/ubi/moreactor-actormodel/#eventemittermodel-structure","title":"<code>EventEmitterModel</code> structure","text":"Name Type bem <code>BaseEmitterModel</code> brm <code>BaseRotationModel</code>"},{"location":"myst4/file-reference/ubi/moreactor-actormodel/#soundemitterinfo-structure","title":"<code>SoundEmitterInfo</code> structure","text":"Name Type Condition name <code>BasicString</code> positionName <code>BasicString</code> fatherIndex <code>int16</code> defaultPosition <code>Vector3</code> box <code>Box</code> <code>version &gt;= 0x4</code> soundTrackNames <code>Array</code>&lt;<code>BasicString</code>&gt;"},{"location":"myst4/file-reference/ubi/moreactor-actormodel/#channelinfo-structure","title":"<code>ChannelInfo</code> structure","text":"Name Type Condition Description name <code>BasicString</code> If <code>version &lt; 0x6</code>, serialisation code describes this as <code>geometricObjectName</code> instead, but still puts it in the same struct field. graphicObjectIDs <code>Array</code>&lt;<code>uint16</code>&gt; <code>version &gt;= 0x6</code> boneIDs <code>Array</code>&lt;<code>uint16</code>&gt; isDeformable <code>bool</code> <code>version &gt;= 0x5</code> If <code>version &lt; 0x5</code>, this field is implicitly <code>boneIDs.len &gt; 1</code>."},{"location":"myst4/file-reference/ubi/moreactor-actormodel/#channelmodel-structure","title":"<code>ChannelModel</code> structure","text":"Name Type name <code>BasicString</code> isDeformable <code>bool</code> isMultipleMeshes <code>bool</code> isVisibilityAnimated <code>bool</code> boneIDs <code>Array</code>&lt;<code>uint16</code>&gt; graphicObjectIDs <code>Array</code>&lt;<code>uint16</code>&gt;"},{"location":"myst4/file-reference/ubi/moreactor-soundtable/","title":"<code>MOREActor::SoundTable</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"MOREActor::SoundTable\"</code></li> </ul> <p>This documentation is included for completion's sake, but this type has never been encountered in Revelation's data files, and is unused by its binaries.</p>"},{"location":"myst4/file-reference/ubi/moreactor-soundtable/#moreactorsoundtable-structure","title":"<code>MOREActor::SoundTable</code> structure","text":"Name Type soundIDs <code>Array</code>&lt;<code>uint32</code>&gt; names <code>Array</code>&lt;<code>BasicString</code>&gt;"},{"location":"myst4/file-reference/ubi/snd-familly/","title":"<code>snd::Familly</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"snd::Familly\"</code></li> </ul>"},{"location":"myst4/file-reference/ubi/snd-familly/#sndfamilly-structure","title":"<code>snd::Familly</code> structure","text":"Name Type Condition name <code>BasicString</code> soundList <code>snd::SoundList</code> pickerType <code>uint32</code> syncOnFamilly <code>bool</code> syncOnFamillyName <code>BasicString</code> <code>syncOnFamilly</code> initVolume <code>ValidatedUbiSubResource</code> <sup>1</sup> initNLoops <code>ValidatedUbiSubResource</code> <sup>2</sup> initWaitTimeBegin <code>ValidatedUbiSubResource</code> <sup>1</sup> <code>version &gt;= 0x4</code> initWaitTime <code>ValidatedUbiSubResource</code> <sup>1</sup> initWaitTimeEnd <code>ValidatedUbiSubResource</code> <sup>1</sup> <code>version &gt;= 0x4</code> rules <code>Array</code>&lt;<code>UbiSubResource</code>&gt; <sup>3</sup>"},{"location":"myst4/file-reference/ubi/snd-familly/#sndfamillyplaying-sndfamillyplayingsound-structure","title":"<code>snd::FamillyPlaying</code> / <code>snd::FamillyPlayingSound</code> structure","text":"<p>It is unknown what the distinction is between <code>snd::FamillyPlaying</code> and <code>snd::FamillyPlayingSound</code>; they share the same serialisation routine.</p> Name Type condition <code>bool</code> famillyName <code>BasicString</code> <ol> <li> <p>If <code>isValid</code>, Revelation assumes <code>type</code> to be one of the <code>\"snd::InitValue\"</code> types with a <code>float32</code> value type.\u00a0\u21a9\u21a9\u21a9\u21a9</p> </li> <li> <p>If <code>isValid</code>, Revelation assumes <code>type</code> to be one of the <code>\"snd::InitValue\"</code> types with a <code>int32</code> value type.\u00a0\u21a9</p> </li> <li> <p>Revelation assumes all <code>type</code> to be one of <code>snd::FamillyPlaying</code> or <code>snd::FamillyPlayingSound</code>.\u00a0\u21a9</p> </li> </ol>"},{"location":"myst4/file-reference/ubi/snd-initvalue/","title":"<code>snd::InitValue</code>","text":"<p>A <code>snd::InitValue</code> is a getter interface for some initialisation value. The following types exist:</p> Type <code>UbiResourceType</code> Descrpition <code>snd::InitValueConst</code>&lt;<code>uint32</code>&gt; <code>\"snd::InitValueConst &lt; ubiU32 &gt;\"</code> <code>snd::InitValueConst</code>&lt;<code>int32</code>&gt; <code>\"snd::InitValueConst &lt; ubiS32 &gt;\"</code> <code>snd::InitValueConst</code>&lt;<code>float32</code>&gt; <code>\"snd::InitValueConst &lt; ubiF32 &gt;\"</code> <code>snd::InitValueConst</code>&lt;<code>Vector3</code>&gt; <code>\"snd::InitValueConst &lt; ubi::Vector3 &gt;\"</code> <code>snd::InitValueRange</code>&lt;<code>uint32</code>&gt; <code>\"snd::InitValueRange &lt; ubiU32 &gt;\"</code> <code>snd::InitValueRange</code>&lt;<code>int32</code>&gt; <code>\"snd::InitValueRange &lt; ubiS32 &gt;\"</code> <code>snd::InitValueRange</code>&lt;<code>float32</code>&gt; <code>\"snd::InitValueRange &lt; ubiF32 &gt;\"</code> <code>snd::InitValueRange</code>&lt;<code>Vector3</code>&gt; <code>\"snd::InitValueRange &lt; ubi::Vector3 &gt;\"</code> Though a vec3 is kept in memory, the class only works with the <code>x</code> element. <code>snd::InitValueSequence</code>&lt;<code>uint32</code>&gt; <code>\"snd::InitValueSequence &lt; ubiU32 &gt;\"</code> <code>snd::InitValueSequence</code>&lt;<code>int32</code>&gt; <code>\"snd::InitValueSequence &lt; ubiS32 &gt;\"</code> <code>snd::InitValueSequence</code>&lt;<code>float32</code>&gt; <code>\"snd::InitValueSequence &lt; ubiF32 &gt;\"</code> <code>snd::InitValueSequence</code>&lt;<code>Vector3</code>&gt; <code>\"snd::InitValueSequence &lt; ubi::Vector3 &gt;\"</code>"},{"location":"myst4/file-reference/ubi/snd-initvalue/#sndinitvalueconsttype-structure","title":"<code>snd::InitValueConst</code>&lt;<code>Type</code>&gt; structure","text":"<p>Getter that returns the same, constant value.</p> Name Type value <code>Type</code>"},{"location":"myst4/file-reference/ubi/snd-initvalue/#sndinitvaluerangetype-structure","title":"<code>snd::InitValueRange</code>&lt;<code>Type</code>&gt; structure","text":"<p>Getter that returns a random value within a range.</p> Name Type min <code>Type</code> max <code>Type</code>"},{"location":"myst4/file-reference/ubi/snd-initvalue/#sndinitvaluesequencetype-structure","title":"<code>snd::InitValueSequence</code>&lt;<code>Type</code>&gt; structure","text":"<p>Getter that returns a value from a looping sequence of <code>InitValue</code>s.</p> Name Type Description seq <code>Array</code>&lt;<code>UbiSubResource</code>&gt; <sup>1</sup> iterType <code>uint32</code> Enum which involves the iteration method for <code>seq</code>. Never observed to be anything other than <code>0x2</code>. Only known effect is for value <code>0x0</code>: every loop through the sequence, the order is randomised. If the value is not <code>0x0</code>, every loop through the sequence is ordered from begin to end. <ol> <li> <p>Revelation assumes all <code>type</code> to be one of the <code>\"snd::InitValue\"</code> types with the same <code>Type</code> value type.\u00a0\u21a9</p> </li> </ol>"},{"location":"myst4/file-reference/ubi/snd-project/","title":"<code>snd::Project</code>","text":"<ul> <li>Type: <code>Array</code>&lt;<code>UbiSubResource</code>&gt; <sup>1</sup></li> <li><code>UbiResourceType</code>: <code>\"snd::Project\"</code></li> </ul> <p><code>snd::Project</code> resources are exclusively contained in <code>.snd</code> files found in <code>sound.m4b/</code>.</p> <ol> <li> <p>Revelation assumes all <code>type</code> to be <code>snd::Sound</code>.\u00a0\u21a9</p> </li> </ol>"},{"location":"myst4/file-reference/ubi/snd-sequence/","title":"<code>snd::Sequence</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"snd::Sequence\"</code></li> </ul> <p><code>snd::Sequence</code> resources are exclusively contained in <code>.seq</code> files found in <code>sound.m4b/sequence/</code>.</p>"},{"location":"myst4/file-reference/ubi/snd-sequence/#sndsequence-structure","title":"<code>snd::Sequence</code> structure","text":"Name Type name <code>BasicString</code> initVolume <code>ValidatedUbiSubResource</code> <sup>1</sup> initNLoops <code>ValidatedUbiSubResource</code> <sup>2</sup> initSpeedFactor <code>ValidatedUbiSubResource</code> <sup>1</sup> sounds <code>Array</code>&lt;<code>UbiSubResource</code>&gt; <sup>3</sup> famillies <code>Array</code>&lt;<code>UbiSubResource</code>&gt; <sup>4</sup> <ol> <li> <p>If <code>isValid</code>, Revelation assumes <code>type</code> to be one of the <code>\"snd::InitValue\"</code> types with a <code>float32</code> value type.\u00a0\u21a9\u21a9</p> </li> <li> <p>If <code>isValid</code>, Revelation assumes <code>type</code> to be one of the <code>\"snd::InitValue\"</code> types with a <code>int32</code> value type.\u00a0\u21a9</p> </li> <li> <p>Revelation assumes all <code>type</code> to be <code>snd::Sound</code>.\u00a0\u21a9</p> </li> <li> <p>Revelation assumes all <code>type</code> to be <code>snd::Familly</code>.\u00a0\u21a9</p> </li> </ol>"},{"location":"myst4/file-reference/ubi/snd-setting/","title":"<code>snd::Setting</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"snd::Setting\"</code></li> </ul>"},{"location":"myst4/file-reference/ubi/snd-setting/#sndsetting-structure","title":"<code>snd::Setting</code> structure","text":"Name Type Condition Description volume <code>ValidatedUbiSubResource</code> <sup>1</sup> fadeIn <code>ValidatedUbiSubResource</code> <sup>1</sup> fadeInCurve <code>uint32</code> fadeOut <code>ValidatedUbiSubResource</code> <sup>1</sup> fadeOutCurve <code>uint32</code> pitch <code>ValidatedUbiSubResource</code> <sup>1</sup> nLoops <code>ValidatedUbiSubResource</code> <sup>2</sup> <code>version &lt; 3</code> If <code>x = nLoops.Get(), x &lt; 501</code>, this field is converted to [<code>snd::InitValueConst</code>]&lt;<code>int32</code>&gt; with <code>nLoops.const = x</code>. Otherwise, this field is set to <code>NULL</code>. nLoops <code>ValidatedUbiSubResource</code> <sup>3</sup> <code>version &gt;= 3</code> panning <code>ValidatedUbiSubResource</code> <sup>4</sup> position <code>ValidatedUbiSubResource</code> <sup>5</sup> behaviour <code>int32</code> <ol> <li> <p>If <code>isValid</code>, Revelation assumes <code>type</code> to be one of the <code>\"snd::InitValue\"</code> types with a <code>float32</code> value type.\u00a0\u21a9\u21a9\u21a9\u21a9</p> </li> <li> <p>If <code>isValid</code>, Revelation assumes <code>type</code> to be one of the <code>\"snd::InitValue\"</code> types with a <code>uint32</code> value type.\u00a0\u21a9</p> </li> <li> <p>If <code>isValid</code>, Revelation assumes <code>type</code> to be one of the <code>\"snd::InitValue\"</code> types with a <code>int32</code> value type.\u00a0\u21a9</p> </li> <li> <p>If <code>isValid</code>, Revelation assumes <code>type</code> to be <code>snd::VirtualPanning</code>.\u00a0\u21a9</p> </li> <li> <p>If <code>isValid</code>, Revelation assumes <code>type</code> to be one of the <code>\"snd::InitValue\"</code> types with a <code>Vector3</code> value type.\u00a0\u21a9</p> </li> </ol>"},{"location":"myst4/file-reference/ubi/snd-sound/","title":"<code>snd::Sound</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"snd::Sound\"</code></li> </ul>"},{"location":"myst4/file-reference/ubi/snd-sound/#sndsound-structure","title":"<code>snd::Sound</code> structure","text":"Name Type Condition Description name <code>BasicString</code> soundID <code>uint16</code> groupID <code>uint16</code> defaultSetting <code>snd::Setting</code> nSettings <code>uint32</code> type <code>uint32</code> volumeLine <code>int32</code> <code>version &gt;= 0x2</code> settings <code>Pair</code>&lt;<code>Context</code>, <code>snd::Setting</code>&gt;[<code>nSettings</code>]"},{"location":"myst4/file-reference/ubi/snd-sound/#context-structure","title":"<code>Context</code> structure","text":"Name Type world <code>uint8</code> zone <code>uint8</code> node <code>uint16</code>"},{"location":"myst4/file-reference/ubi/snd-soundlist/","title":"<code>snd::SoundList</code>","text":"<ul> <li>Type: <code>Array</code>&lt;<code>BasicString</code>&gt;</li> <li><code>UbiResourceType</code>: <code>\"snd::SoundList\"</code></li> </ul>"},{"location":"myst4/file-reference/ubi/snd-virtualpanning/","title":"<code>snd::VirtualPanning</code>","text":"<ul> <li><code>UbiResourceType</code>: <code>\"snd::VirtualPanning\"</code></li> </ul>"},{"location":"myst4/file-reference/ubi/snd-virtualpanning/#sndvirtualpanning-structure","title":"<code>snd::VirtualPanning</code> structure","text":"Name Type yawPosition <code>float32</code> panDelta <code>float32</code> panNoAngle <code>float32</code> volumeNoAttenuation <code>float32</code> volumeFade <code>float32</code> volumeMax <code>float32</code>"},{"location":"reference/blender/","title":"Blender","text":"<p>Any tutorials, tips tricks on effects or particular things relevant to Blender.</p>"},{"location":"reference/unreal/","title":"Unreal","text":"<p>Any tutorials, tips tricks on effects or particular things relevant to Unreal.</p>"},{"location":"reference/mkdocs/","title":"MkDocs Example Page","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"reference/mkdocs/#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"reference/mkdocs/#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"reference/mkdocs/#code-annotation-examples","title":"Code Annotation Examples","text":""},{"location":"reference/mkdocs/#codeblocks","title":"Codeblocks","text":"<p>Some <code>code</code> goes here.</p>"},{"location":"reference/mkdocs/#plain-codeblock","title":"Plain codeblock","text":"<p>A plain codeblock:</p> <pre><code>Some code here\ndef myfunction()\n// some comment\n</code></pre>"},{"location":"reference/mkdocs/#code-for-a-specific-language","title":"Code for a specific language","text":"<p>Some more code with the <code>py</code> at the start:</p> <pre><code>import tensorflow as tf\ndef whatever()\n</code></pre>"},{"location":"reference/mkdocs/#with-a-title","title":"With a title","text":"bubble_sort.py<pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre>"},{"location":"reference/mkdocs/#with-line-numbers","title":"With line numbers","text":"<pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre>"},{"location":"reference/mkdocs/#highlighting-lines","title":"Highlighting lines","text":"<pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre>"},{"location":"reference/mkdocs/#icons-and-emojs","title":"Icons and Emojs","text":""}]}